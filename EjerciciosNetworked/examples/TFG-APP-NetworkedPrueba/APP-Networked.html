<!DOCTYPE html>
<html lang="es">

<head>
  <!-- Libreria de Aframe 1.5.0. sin problema del grabbable -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script>
    delete AFRAME.components["grabbable"];
  </script>
  <!-- Libreria de Networked Aframe 0.12.0-->
  <script src="https://unpkg.com/networked-aframe@^0.12.0/dist/networked-aframe.min.js"></script>
  <!-- Libreria de Socket 2.5.0 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.5.0/socket.io.slim.js"></script>
  <!-- Libreria de EasyRTC -->
  <script src="/easyrtc/easyrtc.js"></script>
  <!-- Babia -->
  <script src="https://unpkg.com/aframe-babia-components/dist/aframe-babia-components.min.js"></script>
  <!-- libreria extra -->
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.2.0/dist/aframe-extras.min.js"></script>
  <!-- Enviorement -->
  <script src="https://unpkg.com/aframe-environment-component@1.3.4/dist/aframe-environment-component.min.js"></script>
  <!-- Image Favicon -->
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
  <!-- Libreria para tranformar documentos csv -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <!-- Libreria SUPERHANDS -->
  <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>

  <!-- Scripts Componentes/Logica
  <script src="js/spawn-in-circle.component.js"></script>-->

  <script src="js/load-schemas.js"></script>

  <script type="module" src="js/entity-generator.js"></script>
  <script type="module" src="js/menu-disco.js"></script>
  <script type="module" src="js/creation.js"></script>
  <script type="module" src="js/events-object-creation.js"></script>
  <script type="module" src="js/configuration.js"></script>
  <script type="module" src="js/events-object-configuration.js"></script>

  <script type="module" src="js/prueba.js"></script>

</head>

<body>

  <!-- SCENE -->
  <a-scene environment="preset: default; playArea: 3" networked-scene="room: basic-persistent; debug: true; adapter: easyrtc;">

    <!-- ASSETS -->
    <a-assets>

      <!-- ### AVATAR TEMPLATES -->
      <!-- rig-template -->
      <template id="rig-template">
        <a-entity></a-entity>
      </template>

      <!-- avatar-man-template -->
      <template id="avatar-man-template">
        <a-entity player-info>
          <a-entity gltf-model="3Dmodels/pmariano-fullbody.glb" rotation="0 180 0"></a-entity>
          <a-text class="nametag" value="?" rotation="0 180 0" position="0.3 -0.20 0" side="double" scale=".6 .6 .6"
            color="black"></a-text>
        </a-entity>
      </template>

      <!-- ### EMPLATES -->
      <!-- icon conf template -->
      <template id="iconConif-template">
        <a-entity id="iconConif" scale="0.14 0.14 0.14" rotation="0 0 90" gltf-model="3Dmodels/iconConif.glb">
      </template>

      <template id="platoInit-template">
        <a-entity>
        </a-entity>
      </template>

      <template id="objectInit-template">
        <a-entity>
        </a-entity>
      </template>

      <template id="textInit-template">
        <a-entity>
        </a-entity>
      </template>

      <template id="plato-template">
        <a-entity geometry="primitive: cylinder; radius: 4; height: 0.3" 
             material="color: BLUE" >
        </a-entity>
      </template>


    </a-assets>

    <!-- ENTITIES-->
    <!-- avatar entity -->
    <a-entity id="rig-player" movement-controls="fly:true;" networked="template:#rig-template;">
      <a-entity id="player" camera position="0 2 2" look-controls networked="template:#avatar-man-template;"
        visible="false"></a-entity>
      <a-entity cursor="rayOrigin:mouse"></a-entity>
      <!-- 
      <a-entity oculus-touch-controls="hand: right" raycaster="showLine: true; objects: .objectRayCaster, .babiaxraycasterclass, .babiaxrChart" super-hands="colliderEvent: raycaster-intersection; colliderEventProperty: els;
                       colliderEndEvent: raycaster-intersection-cleared; colliderEndEventProperty: clearedEls"></a-entity>
    
      <a-entity oculus-touch-controls="hand: left" raycaster="showLine: true; objects: .objectRayCaster, .babiaxraycasterclass, .babiaxrChart"
        super-hands="colliderEvent: raycaster-intersection; colliderEventProperty: els;
                                  colliderEndEvent: raycaster-intersection-cleared; colliderEndEventProperty: clearedEls"></a-entity>
      -->
    </a-entity>
    
    <!-- old     
    <a-entity id="dataInicial" babia-queryjson="url: ./data/dataInit.json" visible="false"></a-entity>
    -->
    <a-entity entity-generator ></a-entity>
    <!-- NUEVOOO     -->

    <a-entity prueba></a-entity>

    <!-- 
    <a-entity networked="template:#plato-template;networkId:planes001;" position="0 0 -2"></a-entity>
    -->

    <!-- 
    <a-entity position="0 0 -36" creation></a-entity>
    <a-entity position="18 0 -36" creation></a-entity>
    <a-entity position="-18 0 -36" creation></a-entity>
    <a-entity position="0 0 0" creation></a-entity>
    <a-entity position="0 0 -18" creation></a-entity>
    <a-entity position="18 0 -18" creation></a-entity>
    <a-entity position="-18 0 -18" creation></a-entity>
    <a-entity position="18 0 18" creation></a-entity>
    <a-entity position="-18 0 18" creation></a-entity>
    <a-entity position="0 0 18" creation></a-entity>
    <a-entity position="18 0 0" creation></a-entity>
    <a-entity position="-18 0 0" creation></a-entity>
    -->
    </a-scene>
    
    </body>
    </html>